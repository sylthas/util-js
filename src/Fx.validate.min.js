var validate=function(){function l(f){var d=arguments;return d[1]?d[1].test(f):""!=f}function n(f,d,e){return(f=f.length)?f>=d&&f<=e:!1}var p=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/,q=/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/,e={required:"\u8be5\u9879\u76ee\u5fc5\u987b\u586b\u5199",minlength:"\u8be5\u9879\u76ee\u81f3\u5c11{0}\u4e2a\u5b57\u7b26",maxlength:"\u8be5\u9879\u76ee\u6700\u591a{0}\u4e2a\u5b57\u7b26",
rangelength:"\u8be5\u9879\u76ee\u5fc5\u987b\u5728{0}\u5230{1}\u4e2a\u5b57\u7b26\u4e4b\u95f4",min:"\u8be5\u9879\u76ee\u4e0d\u80fd\u5c0f\u4e8e{0}",max:"\u8be5\u9879\u76ee\u4e0d\u80fd\u5927\u4e8e{0}",range:"\u8be5\u9879\u76ee\u5fc5\u987b\u5728{0}\u5230{1}\u4e4b\u95f4",email:"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u7535\u5b50\u90ae\u7bb1",url:"URL\u683c\u5f0f\u4e0d\u6b63\u786e",regex:"\u8be5\u9879\u76ee\u683c\u5f0f\u4e0d\u6b63\u786e",equals:"\u8be5\u9879\u76ee\u548c{0}\u4e0d\u4e00\u81f4"};return function(f,
d){var k=this[0];if(!k||"FORM"!=k.nodeName)return!1;k=Fx.Form.json(k);f=f||{};var m=f.rules||{},h=f.messages||{};d=d||function(){};var a=null,b;for(b in m){var c=m[b],a=k[b];if(c.required){var g=!1,g="boolean"==typeof c.required?l(a):l(a,c.required);if(!g)return a=h[b].required||e[b].required,d(Fx.$(b),a),!1}if(c.minlength&&(g=a.length?a.length>=c.minlength:!1,!g))return a=h[b].minlength||e[b].minlength,d(Fx.$(b),Fx.String.format(a,c.minlength)),!1;if(c.maxlength&&(g=a.length?a.length<=c.maxlength:
!1,!g))return a=h[b].maxlength||e[b].maxlength,d(Fx.$(b),Fx.String.format(a,c.maxlength)),!1;if(c.rangelength&&!n(a,c.rangelength[0],c.rangelength[1]))return a=h[b].rangelength||e[b].rangelength,d(Fx.$(b),Fx.String.format(a,c.rangelength[0],c.rangelength[1])),!1;if(c.min&&!(+a>=c.min))return a=h[b].min||e[b].min,d(Fx.$(b),Fx.String.format(a,c.min)),!1;if(c.max&&!(+a<=c.max))return a=h[b].max||e[b].max,d(Fx.$(b),Fx.String.format(a,c.max)),!1;if(c.range&&!(+a>=c.range[0]&&+a<=c.range[1]))return a=h[b].range||
e[b].range,d(Fx.$(b),Fx.String.format(a,c.range[0],c.range[1])),!1;if(c.email&&(g=a&&""!=a?p.test(a):!0,!g))return a=h[b].email||e[b].email,d(Fx.$(b),a),!1;if(c.url&&(g=a&&""!=a?q.test(a):!0,!g))return a=h[b].url||e[b].url,d(Fx.$(b),a),!1;if(c.regex&&(g=a&&""!=a?c.regex.test(a):!0,!g))return a=h[b].regex||e[b].regex,d(Fx.$(b),a),!1;if(c.equals&&a!=k[c.equals])return a=h[b].equals||e[b].equals,d(Fx.$(b),Fx.String.format(a,c.equals)),!1}return!0}}();Fx.protoExtend({validate:validate});
